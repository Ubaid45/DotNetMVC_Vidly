DECLARE @CurrentMigration [nvarchar](max)

IF object_id('[dbo].[__MigrationHistory]') IS NOT NULL
    SELECT @CurrentMigration =
        (SELECT TOP (1) 
        [Project1].[MigrationId] AS [MigrationId]
        FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = N'Vidly.Migrations.Configuration'
        )  AS [Project1]
        ORDER BY [Project1].[MigrationId] DESC)

IF @CurrentMigration IS NULL
    SET @CurrentMigration = '0'

IF @CurrentMigration < '202005211337108_InitialMigration'
BEGIN
    CREATE TABLE [dbo].[Movie] (
        [Id] [int] NOT NULL IDENTITY,
        [Name] [nvarchar](255) NOT NULL,
        [GenreId] [tinyint] NOT NULL,
        [DateAdded] [datetime] NOT NULL,
        [ReleaseDate] [datetime] NOT NULL,
        [NumberInStock] [tinyint] NOT NULL,
        [NumberAvailable] [tinyint] NOT NULL,
        CONSTRAINT [PK_dbo.Movie] PRIMARY KEY ([Id])
    )
    CREATE TABLE [dbo].[__MigrationHistory] (
        [MigrationId] [nvarchar](150) NOT NULL,
        [ContextKey] [nvarchar](300) NOT NULL,
        [Model] [varbinary](max) NOT NULL,
        [ProductVersion] [nvarchar](32) NOT NULL,
        CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
    )
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202005211337108_InitialMigration', N'Vidly.Migrations.Configuration',  0x1F8B0800000000000400CD58DB6EDB38107D5FA0FF20E83935130705BA81DCC2B59385B175124469DE6969EC10A54895A40CEBDBFAD04FDA5FD8A1EE173BB1E262B10860C4E4CCE199E1CCD1C8FFFCFCE57DDE45DCD982D24C8A897B313A771D10810C99D84CDCC4ACDF7F743F7F7AF787771D463BE7A9B4BBB476E829F4C47D3626BE224407CF10513D8A58A0A4966B330A64446828C9F8FCFC4F72714100215CC4721CEF21118645907DC1AF332902884D42F95286C075B18E3B7E86EADCD208744C0398B84F2CE4E928B7739D29671439F8C0D7AE438590861A6478F54D836F94141B3FC605CA1FD318D06E4DB98682F9556D7E6C10E7631B04A91D4BA820D1464603012F2E8BAC90AEFB9B72EB5659C3BC5D637E4D6AA3CE7237719772CB30F2EE495733AEAC553BAFA3CCFACCC9D6CEAA6BC7EAB07F67CE2CE126513011901845F999739FAC380BFE86F4517E07311109E74D3A4808F75A0BB874AF640CCAA40FB02E482E42D7216D3FD275ACDC1A3E79040B612EC7AE738B87D31587EAB61BD1FA462AF80B04286A20BCA7C680121603B27CF54EEF9C653FCBD3B0BCB0475C6749775F416CCCF3C41D7FF8E03A376C0761B95230F82618B6143A1995C01E862F9F8A7C15D4617E49CD708C39C63B0D43A850ECC2238B86233D0007AAC1FA9F8C759B442B500B81D7127C3F29BE1C69BAA52CF31A80E591BA57FA1D84CA6428C37A29CE99C631167A564CF395DD849DD9D355283F4563E9E2D2DBEC73701F4CB33B51CE6A2AB9A68D8AB6DD47B8A256AB25C9E5B29455724057BD258D632CDE86CE162B8E9F8BECECBD3F5C83A21C83047A8F14556CAB93B015E9063ABB783432BD614A1BAC2ABAA2F6BA6661D433DB7B1107925C1ED9CA75578DEAD497E6F6FFDCA5AF8D5DF73A853718558472920508158752817B7ED9438E72AAF6E8DA4CF2241287B4F125EF5CA99AFEF9CAF10895EA3441AAC5E3711ACAD3446A2C1F8FD5D29E265A6B634096DAFAD34A577B6B28664389FAA88DCD3EAE473A85D42D54D2ABD4CE13B35BF72F6947D7A43ABDD2908E567845DFBE3EA8F51A3937711D4CD89685B689FD541B8846D660E4FFE033CE30DEDA6049055B8336F950E1E2C434EE4C7CFF9FE98B681DF26346B0FF7C2C6236A5AF0E3E439FB78D49486CA90A9EA9EACF42A70D3A868934237FEAAC13E282F94DB3CE9BB1F6CE3A6F0DF1C0B8731CDCB089A7FF3C3E6294393CC9E42280795C49649D733C6DC8E90B92479AEF97DE1C34DBD410F66D5340603BBD062D6D16622DCB5C634C4D46A549E72A96602816059D2AC3D63430B81D80D6D9BBC113E5099A5CE365850B719798383153AD215AF1D6BB86475E3E3F9BE4DA9CBDBBD87ED3BF2304A4C96C5DDF892F09E361C5FB664FED1C80B05552C80BB2C2772384DBA415D2AD14470215E99B430CC28AD323443147307D277CBA85B770C361FC2B6C689096CF95C320AF5F443BEDDE9CD18DA2912E306A7FFB9B09B13F9A7CFA178C3F4FB066110000 , N'6.4.4')
END

IF @CurrentMigration < '202005211342398_AddCustomer'
BEGIN
    CREATE TABLE [dbo].[Customer] (
        [Id] [int] NOT NULL IDENTITY,
        [Name] [nvarchar](255) NOT NULL,
        [IsSubscribedToNewsletter] [bit] NOT NULL,
        [MembershipTypeId] [tinyint] NOT NULL,
        [Birthdate] [datetime],
        CONSTRAINT [PK_dbo.Customer] PRIMARY KEY ([Id])
    )
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202005211342398_AddCustomer', N'Vidly.Migrations.Configuration',  0x1F8B0800000000000400ED59DB6EE336107D2FD07F10F49CB572C1026D20EFC2B193C2E83A09A224EFB434B689A54895A4DCF8DBFAD04FEA2F74A8FBCD8EE4048B3C2C0204123973E6C219CE8CFCDF3FFFBA5F5F42666D412A2AF8D83E1B9DDA16705F0494AFC776AC579F7EB3BF7EF9F517F73A085FACE79CEEC2D0212757637BA37574E938CADF4048D428A4BE144AACF4C817A14302E19C9F9EFEEE9C9D39801036625996FB10734D43485EF0752AB80F918E095B880098CAD671C74B50AD5B12828A880F63FB99066C374AE96C6BC228411D3C602BDB229C0B4D346A78F9A4C0D352F0B517E102618FBB08906E4598824CF3CB92BCAF11A7E7C608A764CCA1FC5869110E043CBBC8BCE234D98FF2AD5D780DFD768DFED53B6375E2BBB13D4D4480B4ADA6B0CB299386B0EEDA51CE706225CB27C5E1638C98BF136B1A331D4B187388B524ECC4BA8F978CFA7FC2EE517C073EE6316355A5502DDCAB2DE0D2BD141148BD7B8055A6EA3CB02DA7CEE734190BB60A4F6AC49CEB8B73DBBA45E164C9A038F38AC19E1612FE000E926808EE89D620B9C180C46B2DE90D59E67F2E0D830C33C5B616E4E51BF0B5DE8CEDF3CF9F6DEB86BE4090AF641A3C718A89854C5AC6D0A1E161A973E5C54BE54BBA84E051DCC2DF8A81513CD7E44A0806840FC65D40B8C493DDD0C8E0947EBCDAE9E14A5E51A93701D1857F66F8FC48C306A3EB94F179306A17624BA177C826D43FE3F563C42BEA2BDF1A4E267A264100413B9C06223D002687825967680EC4BA8D4DC6CC391E8BFFFD4DF6A548932DA109D700ACC31984F554138AF192C9994411067A124CB3A5D98417DD91555834B3C452D9A1D7B54FC13DD08D9A8275B8D4262DC6A3B2DE38874192A4ED42C872BFCBEAC2BEB25170D24E21EF289C3D2D85BB20518419506931B215CB4BFB8BE9276F78F90D530CC7571D55B8D0B69084F94CD6D0D845D1A8E90D954A6368922531673E0DC21659E769EE71722EB27960CD5BADF47ECE619E53AECEB6A089503AF2066D0BF1664ACC8442934A0BD2624D1A3DC288ECB825A782C521DF77D31EE24EEFBD2A7FBAD21F617FCDAD69B597AABFA47615AE4A68EFF647AE94E42A6465B98DE53A8DB36C868BD38A9746FD6B0660AFF0CCAE82A36333BD318607E61EBE8F1A954565AD82148BFD712AD5B58A5459EE8F55ABAF55B4DAC6002FD56B6CCD5DF5ADA198956ADB46AD6CFEE0AC6895B6264921BD28718D52E66665E5F511BA55675212DB42876D69606A8CB7531AC2912118797FB129A3686F49B0209CAE40E9B471B671963D6FCCE21F672E76940A58CFE1F88777FFD478F5D5FE7E685B5969F8F996487F4364BBE57FE7F97349F5BBCD9E9AF25DE299B78E9FE659377AFC749A79C338FA3348F6823686BE63CFB135F7759DE3B173DFD1589D73DFB126EE19FDFAC10D9BFEDA6345BFB1EEE05497960CF4E652A0EEA9A6C366BEFD235F17F6DBA6C17669749DEA376877068AAE4B08F3459A836F6A4E099AD3CCF94AE4A789365535CA495AF79C2618766422355D115FE3B60F4A255F629E098B91E41AC32198F3BB5847B19E28853723AB7DD9719DC3F29391B7AEB37B179937F51E26A09AD464CE1DBF8A290B0ABD6F3AA2730F8489C3EC0243AD3C6D2EB2F5AE40BA15BC2750E6BE1944C0CDF5F70861C4104CDD718F6CE118DD9E147C8335F1777987B31FE4F583A8BBDD9D51B29624541946C96F7E5771CC0F2B5FFE078ECFFF848A190000 , N'6.4.4')
END

IF @CurrentMigration < '202005211347388_AddMembershipType'
BEGIN
    CREATE TABLE [dbo].[MembershipType] (
        [Id] [tinyint] NOT NULL,
        [Name] [nvarchar](max) NOT NULL,
        [SignUpFee] [smallint] NOT NULL,
        [DurationInMonths] [tinyint] NOT NULL,
        [DiscountRate] [tinyint] NOT NULL,
        CONSTRAINT [PK_dbo.MembershipType] PRIMARY KEY ([Id])
    )
    CREATE INDEX [IX_MembershipTypeId] ON [dbo].[Customer]([MembershipTypeId])
    ALTER TABLE [dbo].[Customer] ADD CONSTRAINT [FK_dbo.Customer_dbo.MembershipType_MembershipTypeId] FOREIGN KEY ([MembershipTypeId]) REFERENCES [dbo].[MembershipType] ([Id]) ON DELETE CASCADE
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202005211347388_AddMembershipType', N'Vidly.Migrations.Configuration',  0x1F8B0800000000000400ED5A5F6FDB36107F1FB0EF20E8691B522B49D1610BEC16899D0CC69AA48893626F052D9D1DA214A991946763D827DBC33ED2BEC28E922D4BA46CCB72DAA5C31020B0C9BB1F8FC7FBC33BFAEF3FFFEABE99C7CC9B815454F09E7FD239F63DE0A188289FF6FC544F5EFCE0BF79FDF557DDCB289E7BEF57742F0D1D7272D5F31FB54ECE8240858F1013D5896928851213DD09451C904804A7C7C73F0627270120848F589ED7BD4BB9A631645FF06B5FF010129D12762D22606A398E33A30CD5BB2131A88484D0F3DFD3882D3A399DEF9D334A508611B089EF11CE85261A253C7B5030D252F0E928C101C2EE170920DD8430054BC9CFD6E44D37717C6A3611AC19575061AAB488F7043C79B9D44A60B3B7D2AD5F680DF57689FAD50BB3EB4C773DBF9F2D01D2F7ECC5CEFA4C1AC2AA6A3B2B86232F1B3E2A0E1F6DC4FC1D79FD94E954428F43AA256147DEBB74CC68F8332CEEC547E03D9E3256160AC5C2B9CA000EBD932201A9177730598A3A8C7C2FA8F2053663C156E2C93731E4FAE5A9EFDDE0E264CCA038F3D286475A48F8093848A2217A47B406C90D06645A7356B7D632FF57ABA191A1A7F8DE3599BF053ED58F3DFFF4D52BDFBBA2738856234B091E3845C742262D53A89170FBAA43354AC72A94740CD1BDB881DF140323F84A920B211810BE37EE35C4633CD9479A189CB51E2F167A7F212FA8D48F11D1857E06F8F99EC62EE30D99D169761C5BE5F1BD3B60199919C91DBD30CD0F36ED9514F19D602573B7483E8C442A43239DD84E774FE4147455EA6EB0F6AAADBE668BD5D0E3AA6C5F9ADFB5B2971DAE841F3F852B8DE8943F245700A59871F2FDDE30835466C739E4D782EB4775902606548502B3E25DC9791A0035B74931A37B98A2A1FED22CF0BF1AF9515E7968603671F83C8A207203F39E48188F812818D406F97DDD3F35116FC8F158C28F8705920CE97C4668C6F5041E74AE9408696636D615CA4E3B55C12E79E435CC41B91D95331A9A13BA164DD09950A49EFF9DB3EFDDF0ABD45582B71352759113DFF6CC5B3EC053D6E09D87F96DB64F544822F71450775175049D19A4F126C2F056AF303C50AE5DCFA73CA40961CDB662B1370C1D46BC62217B66000970E3F5CDCEAA8904EE45CA95A758D652E32EAD75839239BA711E793472805C8A729E98C3CD8807633309735D13FBB1485A867FB50C4DB6AD19F01168CB0130D3AD7DC6B160C760AB205535D541D9D6BA0BD0E4AA5A9C3CE559EC2545BA3B736E9425EA1D974FFBAC9BC7816243150D3BC6D3DCF34B808EB66D07AEAAA3262E16B6B52ECA83BC2A5F55EFC186F2BD7B4D92047364A99C5F8E78A3BC96EFBF18ED5FEAC6394610AA9A8AB790B65809333E9982358B4BA3A457542A8DC98B8C89C90AFD2876C86A3D69833DAE96B49DC53DC895A1AE38CCE79CABB604AF093F4BCE2BDC5B6CA25876B1A9312497356BAA104664CD3DAA2F581AF3CD017533777E332AF3E723CD1136D7B715A93652355FC90DD4E5157687F1CDC8A5F2B70C591A76B1BA8175964ED270ECC5C9C155036C649E7660686DA4DBC3600353DD05F05C0DB6544596614AC3CDB1DC52B20CE9CEEE815CA92B2BA89599E76398793A6F6F8F59D66F6186F57CCFD5FA8AA2B00C520CEE611FEBC2B0621CEBE1E65895D2B08C5699D8434BD5F2B0A2AEEAD4BE98A542D1452D4D7E66AF70EE5C3649B17A71F7B2EE58DDE57D67F73B8A7301CA497C0F1536A391B9FC8C164A43DC31049DD1AFACCF28EE774D704D389D80D279CFC73F3D3E39B51E649ECFE348A054C41ABE907CF6C615355ADDD99A3AA0B5CA6744868F44BADDAA277E841853FD640F109AF245A619A76E1D62093DEFF9BF670067DEF0970F36C691772BD142CFBC63EF8FC31F31CC676DF5B7F24EDE533C0F7C76732B14FB0416F54D4CE6DF1EDE80573161AC8D4C9B7AF06DF758D7866F86B56727FEFF20B311D4EA77B73E4ABBE55DE7C66D5BDEADB16A5BDEAD3DB2BEEB7D98C11EDEF8B69B68FF4E27DAED97B56CB9B76A69EF2C8B3F590BFB4B6B56BB9DB8665DE8AD4DE8FC328B7E3A1678EAB90FB46C5137E850D7ADD6A68BBDB9895DBBC233E96FD7ABABAEB7D3A4A95DDB0FFF347D6BB75642E32EFD320D5D4CE14DA58030BF53E31056CCBAA019F28958F99925D18AC4B9F86A8279849C4B4D2724D4381D8252D9ABF27BC25224B944F545437E9BEA24D5B8655427ABBC521B2FDDB67ED69CAFCADCBD4DB2DFD33CC516504C6A52E12DBF48298B0AB9AF6AD2CD0608E3FECB1B89394B6D6E26D3458174237843A0A5FA8AA8750F71C2104CDDF21199411BD91E14BC85290917AB927733C8EE83A8AABD3BA0642A49AC96186B7EFC8A361CC5F3D7FF00810B549CA0290000 , N'6.4.4')
END

IF @CurrentMigration < '202005211350132_PopulateMembershipTypes'
BEGIN
    INSERT INTO MembershipType (Id, Name, SignUpFee, DurationInMonths, DiscountRate) VALUES (1, 'Ubaid', 0, 0, 0)
    INSERT INTO MembershipType (Id, Name, SignUpFee, DurationInMonths, DiscountRate) VALUES (2, 'Ali',30, 1, 10)
    INSERT INTO MembershipType (Id, Name, SignUpFee, DurationInMonths, DiscountRate) VALUES (3, 'Sibgha',90, 3, 15)
    INSERT INTO MembershipType (Id, Name, SignUpFee, DurationInMonths, DiscountRate) VALUES (4, 'Abk',300, 12, 20)
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202005211350132_PopulateMembershipTypes', N'Vidly.Migrations.Configuration',  0x1F8B0800000000000400ED5A5F6FDB36107F1FB0EF20E8691B522B49D1610BEC16899D0CC69AA48893626F052D9D1DA214A991946763D827DBC33ED2BEC28E922D4BA46CCB72DAA5C31020B0C9BB1F8FC7FBC33BFAEF3FFFEABE99C7CC9B815454F09E7FD239F63DE0A188289FF6FC544F5EFCE0BF79FDF557DDCB289E7BEF57742F0D1D7272D5F31FB54ECE8240858F1013D5896928851213DD09451C904804A7C7C73F0627270120848F589ED7BD4BB9A631645FF06B5FF010129D12762D22606A398E33A30CD5BB2131A88484D0F3DFD3882D3A399DEF9D334A508611B089EF11CE85261A253C7B5030D252F0E928C101C2EE170920DD8430054BC9CFD6E44D37717C6A3611AC19575061AAB488F7043C79B9D44A60B3B7D2AD5F680DF57689FAD50BB3EB4C773DBF9F2D01D2F7ECC5CEFA4C1AC2AA6A3B2B86232F1B3E2A0E1F6DC4FC1D79FD94E954428F43AA256147DEBB74CC68F8332CEEC547E03D9E3256160AC5C2B9CA000EBD932201A9177730598A3A8C7C2FA8F2053663C156E2C93731E4FAE5A9EFDDE0E264CCA038F3D286475A48F8093848A2217A47B406C90D06645A7356B7D632FF57ABA191A1A7F8DE3599BF053ED58F3DFFF4D52BDFBBA2738856234B091E3845C742262D53A89170FBAA43354AC72A94740CD1BDB881DF140323F84A920B211810BE37EE35C4633CD9479A189CB51E2F167A7F212FA8D48F11D1857E06F8F99EC62EE30D99D169761C5BE5F1BD3B60199919C91DBD30CD0F36ED9514F19D602573B7483E8C442A43239DD84E774FE4147455EA6EB0F6AAADBE668BD5D0E3AA6C5F9ADFB5B2971DAE841F3F852B8DE8943F245700A59871F2FDDE30835466C739E4D782EB4775902606548502B3E25DC9791A0035B74931A37B98A2A1FED22CF0BF1AF9515E7968603671F83C8A207203F39E48188F812818D406F97DDD3F35116FC8F158C28F8705920CE97C4668C6F5041E74AE9408696636D615CA4E3B55C12E79E435CC41B91D95331A9A13BA164DD09950A49EFF9DB3EFDDF0ABD45582B71352759113DFF6CC5B3EC053D6E09D87F96DB64F544822F71450775175049D19A4F126C2F056AF303C50AE5DCFA73CA40961CDB662B1370C1D46BC62217B66000970E3F5CDCEAA8904EE45CA95A758D652E32EAD75839239BA711E793472805C8A729E98C3CD8807633309735D13FBB1485A867FB50C4DB6AD19F01168CB0130D3AD7DC6B160C760AB205535D541D9D6BA0BD0E4AA5A9C3CE559EC2545BA3B736E9425EA1D974FFBAC9BC7816243150D3BC6D3DCF34B808EB66D07AEAAA3262E16B6B52ECA83BC2A5F55EFC186F2BD7B4D92047364A99C5F8E78A3BC96EFBF18ED5FEAC6394610AA9A8AB790B65809333E9982358B4BA3A457542A8DC98B8C89C90AFD2876C86A3D69833DAE96B49DC53DC895A1AE38CCE79CABB604AF093F4BCE2BDC5B6CA25876B1A9312497356BAA104664CD3DAA2F581AF3CD017533777E332AF3E723CD1136D7B715A93652355FC90DD4E5157687F1CDC8A5F2B70C591A76B1BA8175964ED270ECC5C9C155036C649E7660686DA4DBC3600353DD05F05C0DB6544596614AC3CDB1DC52B20CE9CEEE815CA92B2BA89599E76398793A6F6F8F59D66F6186F57CCFD5FA8AA2B00C520CEE611FEBC2B0621CEBE1E65895D2B08C5699D8434BD5F2B0A2AEEAD4BE98A542D1452D4D7E66AF70EE5C3649B17A71F7B2EE58DDE57D67F73B8A7301CA497C0F1536A391B9FC8C164A43DC31049DD1AFACCF28EE774D704D389D80D279CFC73F3D3E39B51E649ECFE348A054C41ABE907CF6C615355ADDD99A3AA0B5CA6744868F44BADDAA277E841853FD640F109AF245A619A76E1D62093DEFF9BF670067DEF0970F36C691772BD142CFBC63EF8FC31F31CC676DF5B7F24EDE533C0F7C76732B14FB0416F54D4CE6DF1EDE80573161AC8D4C9B7AF06DF758D7866F86B56727FEFF20B311D4EA77B73E4ABBE55DE7C66D5BDEADB16A5BDEAD3DB2BEEB7D98C11EDEF8B69B68FF4E27DAED97B56CB9B76A69EF2C8B3F590BFB4B6B56BB9DB8665DE8AD4DE8FC328B7E3A1678EAB90FB46C5137E850D7ADD6A68BBDB9895DBBC233E96FD7ABABAEB7D3A4A95DDB0FFF347D6BB75642E32EFD320D5D4CE14DA58030BF53E31056CCBAA019F28958F99925D18AC4B9F86A8279849C4B4D2724D4381D8252D9ABF27BC25224B944F545437E9BEA24D5B8655427ABBC521B2FDDB67ED69CAFCADCBD4DB2DFD33CC516504C6A52E12DBF48298B0AB9AF6AD2CD0608E3FECB1B89394B6D6E26D3458174237843A0A5FA8AA8750F71C2104CDDF21199411BD91E14BC85290917AB927733C8EE83A8AABD3BA0642A49AC96186B7EFC8A361CC5F3D7FF00810B549CA0290000 , N'6.4.4')
END

IF @CurrentMigration < '202005211426336_SetNameOfMembershipTypes'
BEGIN
    UPDATE MembershipType SET Name = 'Pay as You Go' WHERE Id = 1
    UPDATE MembershipType SET Name = 'Monthly' WHERE Id = 2
    UPDATE MembershipType SET Name = 'Quarterly' WHERE Id = 3
    UPDATE MembershipType SET Name = 'Annual' WHERE Id = 4
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202005211426336_SetNameOfMembershipTypes', N'Vidly.Migrations.Configuration',  0x1F8B0800000000000400ED5A5F6FDB36107F1FB0EF20E8691B522B49D1610BEC16899D0CC69AA48893626F052D9D1DA214A991946763D827DBC33ED2BEC28E922D4BA46CCB72DAA5C31020B0C9BB1F8FC7FBC33BFAEF3FFFEABE99C7CC9B815454F09E7FD239F63DE0A188289FF6FC544F5EFCE0BF79FDF557DDCB289E7BEF57742F0D1D7272D5F31FB54ECE8240858F1013D5896928851213DD09451C904804A7C7C73F0627270120848F589ED7BD4BB9A631645FF06B5FF010129D12762D22606A398E33A30CD5BB2131A88484D0F3DFD3882D3A399DEF9D334A508611B089EF11CE85261A253C7B5030D252F0E928C101C2EE170920DD8430054BC9CFD6E44D37717C6A3611AC19575061AAB488F7043C79B9D44A60B3B7D2AD5F680DF57689FAD50BB3EB4C773DBF9F2D01D2F7ECC5CEFA4C1AC2AA6A3B2B86232F1B3E2A0E1F6DC4FC1D79FD94E954428F43AA256147DEBB74CC68F8332CEEC547E03D9E3256160AC5C2B9CA000EBD932201A9177730598A3A8C7C2FA8F2053663C156E2C93731E4FAE5A9EFDDE0E264CCA038F3D286475A48F8093848A2217A47B406C90D06645A7356B7D632FF57ABA191A1A7F8DE3599BF053ED58F3DFFF4D52BDFBBA2738856234B091E3845C742262D53A89170FBAA43354AC72A94740CD1BDB881DF140323F84A920B211810BE37EE35C4633CD9479A189CB51E2F167A7F212FA8D48F11D1857E06F8F99EC62EE30D99D169761C5BE5F1BD3B60199919C91DBD30CD0F36ED9514F19D602573B7483E8C442A43239DD84E774FE4147455EA6EB0F6AAADBE668BD5D0E3AA6C5F9ADFB5B2971DAE841F3F852B8DE8943F245700A59871F2FDDE30835466C739E4D782EB4775902606548502B3E25DC9791A0035B74931A37B98A2A1FED22CF0BF1AF9515E7968603671F83C8A207203F39E48188F812818D406F97DDD3F35116FC8F158C28F8705920CE97C4668C6F5041E74AE9408696636D615CA4E3B55C12E79E435CC41B91D95331A9A13BA164DD09950A49EFF9DB3EFDDF0ABD45582B71352759113DFF6CC5B3EC053D6E09D87F96DB64F544822F71450775175049D19A4F126C2F056AF303C50AE5DCFA73CA40961CDB662B1370C1D46BC62217B66000970E3F5CDCEAA8904EE45CA95A758D652E32EAD75839239BA711E793472805C8A729E98C3CD8807633309735D13FBB1485A867FB50C4DB6AD19F01168CB0130D3AD7DC6B160C760AB205535D541D9D6BA0BD0E4AA5A9C3CE559EC2545BA3B736E9425EA1D974FFBAC9BC7816243150D3BC6D3DCF34B808EB66D07AEAAA3262E16B6B52ECA83BC2A5F55EFC186F2BD7B4D92047364A99C5F8E78A3BC96EFBF18ED5FEAC6394610AA9A8AB790B65809333E9982358B4BA3A457542A8DC98B8C89C90AFD2876C86A3D69833DAE96B49DC53DC895A1AE38CCE79CABB604AF093F4BCE2BDC5B6CA25876B1A9312497356BAA104664CD3DAA2F581AF3CD017533777E332AF3E723CD1136D7B715A93652355FC90DD4E5157687F1CDC8A5F2B70C591A76B1BA8175964ED270ECC5C9C155036C649E7660686DA4DBC3600353DD05F05C0DB6544596614AC3CDB1DC52B20CE9CEEE815CA92B2BA89599E76398793A6F6F8F59D66F6186F57CCFD5FA8AA2B00C520CEE611FEBC2B0621CEBE1E65895D2B08C5699D8434BD5F2B0A2AEEAD4BE98A542D1452D4D7E66AF70EE5C3649B17A71F7B2EE58DDE57D67F73B8A7301CA497C0F1536A391B9FC8C164A43DC31049DD1AFACCF28EE774D704D389D80D279CFC73F3D3E39B51E649ECFE348A054C41ABE907CF6C615355ADDD99A3AA0B5CA6744868F44BADDAA277E841853FD640F109AF245A619A76E1D62093DEFF9BF670067DEF0970F36C691772BD142CFBC63EF8FC31F31CC676DF5B7F24EDE533C0F7C76732B14FB0416F54D4CE6DF1EDE80573161AC8D4C9B7AF06DF758D7866F86B56727FEFF20B311D4EA77B73E4ABBE55DE7C66D5BDEADB16A5BDEAD3DB2BEEB7D98C11EDEF8B69B68FF4E27DAED97B56CB9B76A69EF2C8B3F590BFB4B6B56BB9DB8665DE8AD4DE8FC328B7E3A1678EAB90FB46C5137E850D7ADD6A68BBDB9895DBBC233E96FD7ABABAEB7D3A4A95DDB0FFF347D6BB75642E32EFD320D5D4CE14DA58030BF53E31056CCBAA019F28958F99925D18AC4B9F86A8279849C4B4D2724D4381D8252D9ABF27BC25224B944F545437E9BEA24D5B8655427ABBC521B2FDDB67ED69CAFCADCBD4DB2DFD33CC516504C6A52E12DBF48298B0AB9AF6AD2CD0608E3FECB1B89394B6D6E26D3458174237843A0A5FA8AA8750F71C2104CDDF21199411BD91E14BC85290917AB927733C8EE83A8AABD3BA0642A49AC96186B7EFC8A361CC5F3D7FF00810B549CA0290000 , N'6.4.4')
END

IF @CurrentMigration < '202005211916268_Genre'
BEGIN
    CREATE TABLE [dbo].[Genre] (
        [Id] [tinyint] NOT NULL,
        [Name] [nvarchar](255) NOT NULL,
        CONSTRAINT [PK_dbo.Genre] PRIMARY KEY ([Id])
    )
    CREATE INDEX [IX_GenreId] ON [dbo].[Movie]([GenreId])
    ALTER TABLE [dbo].[Movie] ADD CONSTRAINT [FK_dbo.Movie_dbo.Genre_GenreId] FOREIGN KEY ([GenreId]) REFERENCES [dbo].[Genre] ([Id]) ON DELETE CASCADE
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202005211916268_Genre', N'Vidly.Migrations.Configuration',  0x1F8B0800000000000400ED5BDD6EDB3614BE1FB0771074B50D6994A4E8B005768BC44E06634D52C449B1BB809618871845692295D918F664BBD823ED1576A83F5324654B727E8BA24091903C1F0FCF1F0FCF51FEFBE7DFC18745489D7B9C7012B1A1BBBFBBE73A98F95140D87CE8A6E2F6CD4FEE87F7DF7E333809C285F3B95CF756AE034AC687EE9D10F1A1E771FF0E8788EF86C44F221EDD8A5D3F0A3D1444DEC1DEDECFDEFEBE8701C2052CC7195CA64C901067BFC0AFA388F9381629A2675180292FC661669AA13AE728C43C463E1EBA9F494097BBF93AD739A204010F534C6F5D073116092480C3C36B8EA72289D87C1AC300A257CB18C3BA5B44392E383F5C2D6F7B88BD0379086F455842F9291751D81170FF6D21154F27EF255BB7921AC8ED04E42B96F2D499EC86EE28DB0227AEA36F7638A2895C5817ED6E49B0E364C33B95F2C146E4BF1D679452912678C8702A1244779C4FE98C12FF57BCBC8A7EC76CC8524A55A6802D98AB0DC0D0A7248A71229697F8B6607512B88E57A7F374C28A4CA1C90F3161E2ED81EB9CC3E6684671A573E5C0531125F817CC7082040E3E212170C22406CEA466ECAEED25FF2F770323034F719D33B4F888D95CDC0DDD8377EF5CE7942C70508E141C5C33028E05442249B185C3F5BB4EF8349D713F21331C5C45E7F84F4EB164BCE4E4388A2846AC33EE190E67A0D93B124B9C951C8F97A23B93C72411770112957CC6F0F315094DC273744FE6993AD6F2E33A979866CBE448EEE89569DEE86B4F9328BC8CA862EEDA929B699426BEE42E5ABFEE0A25732CEA5C0FBC9557ADF5359DAD961E57277B6D7ED7CB5E36B812FCF818AE342573761D9F62ACC48CFD1F3BC38CD32453E7849D454CDCF1AD243126DC8FE056BC549CA705506B9B847097B437C56CF5570B7CA060DE3E7044F7A443BC90AB5F9B92BED4EB39F3982D6D515E9647418003F3F6EC88049726461C8FAD3771570F49E5B53461A016FFF7ED7C2D433ABA4724A3EA86D598301491CD9227640E7253CCAF720365D8C807D4B92E39C011E7914F3206B4845B4F52EAA73A6181D33263C90D5ACD7FC0AEC1C7490C5E0D2C0DDD1F0CA16D862F0FA9C0EBE94B7D937D570F11176C0CE626B073E4E76F9F11E23E0A4C1582EC82FA0844159C48B74614DE801CE21461C20C4184F92446B4DD5134F296314CB2576DA4CF8C718C990C3FED74D5860333ED36F9A9B6D5C4B8496A034F31C7F556AABA4893E958FD453197FCD26A6F8A361F53F00A7F7D695667E1FA092CCD22FB36BB56B7D11318551E10814600054E0A0E8E62A9BB6CF1782627F14258329B6B8E8BE4861717AF6E35127C8A85165521D95E0562232C1AA65707A9FB9E0D4A0F811B003371DB700A5BDEC48F54B2958DDCB53472450FA6608C37B1B27AC3F3593795F6775375A09A820CDB6B7F1B298086B274F7AE8BA385A86A6981299EC690B83128AA5C172A5D23035B1854104A9B6A7DDC3235A93C715545F5F2326A596EF51AEAAD833314C7902F2BF5D762C499E6C5D7D19B69F7DA649863783EB794282B6EAB9D20FB4773ACCDC2D6C0E92949B8804416CD90CC104741682CB3C69D06F72BB7D4438BA9B3D22F4B0AF9734E65AD995A627441790A670B6578CF1E3916BF3149B32A38A228B1BCA946114D43D67CD33453E7AF24953E1F698FD05C90AC71D5B8AAFD4E66AEA4EEB039936A4656EA952AA4326C620D3C4D97C6156BD88B9190D40DB09579EA71B0B791AE8FFA2D4C7513C04B3558A5ECA7C228C3EDB1CCDA9F0A69CE7640AE15026BA8B599176398C545D5DB1EAD376D0B336CA07B6EEB7BAEF090271CFDA342966AF6080676BAE7D6421342F53052411A5F4BCD384AA9AEE6A2ABE1F658B5629D8A569BE820A57AC1AE26AEFA54574CA57467A22A934FEC1546E6AB2FA976AF32602DD31D1459E7E6CF0F8C34345FE23A20B07B12C81474BAE40287BB72C1EEF40F3AA204CEBB5A708618B9C55CE45578F7606FFF40FB8EE1E57C53E0711ED0961F163C792B8148A96E6C166CD10F62F728F1EF5062F60F1EB8773F23E2C1FAF682B0652619A3D63261015E0CDDBF32804367F2DB8D8EB1E35C2460A187CE9EF3F7F6BD7FF9B3D03A0E796FE521BAEA4F6E6E95601FC0A2BE0BD1E2FBEDFBD63C4494F6E1A9A975DDF78CB6EE753BAC8E0DEC57ADF58E71A463DBF86BFC6D04D59AB35D426441BA556434FABAB6C8D8B7AFDB1BCBDAD7ED6DEEF6D6EE763160FBA6AA5E0C7F9E2EA759F7EED9CEEDD7B8DA54EF79B4F6E897D6082D5A064FDAABD4FA057D3AAFBDACA6A92AF3381DCE57D2D4347B100DB519E3A3EB35CDCAFC0109817C168176F320D9B395D9A29369DBAD4FB7B3B9D969DBA1431FB4B90D6A65FD857448ED7AB095CBDBB445AD1DD597D2F9ACA95FA9C46EEC759A0DD2C7E96E9AB51C0804CA1F9C4008E2F092AA20E49F9F30ECD74240B566C26EA33214691C954B8C87B9409094A1A344905BE40B98F631E7D977889F114D61C9095844306117A988530147060BA1B5EF1A65445BB77FD6C2ADF33CB888B3CFDF1EE208C0269179E5053B4E090D2ABE4F2DB95B03840C95C5B340EA52C8E7C17C59219D47AC255021BE2AC25FE130A600C62FD814DDE33EBC5D73FC11CF91BF2C4B72CD209B155117FB604CD03C41212F3056F4F02BD870102EDEFF0FE55C19FC77350000 , N'6.4.4')
END

IF @CurrentMigration < '202005230209387_UpdateDbContext'
BEGIN
    CREATE TABLE [dbo].[AspNetRoles] (
        [Id] [nvarchar](128) NOT NULL,
        [Name] [nvarchar](256) NOT NULL,
        CONSTRAINT [PK_dbo.AspNetRoles] PRIMARY KEY ([Id])
    )
    CREATE UNIQUE INDEX [RoleNameIndex] ON [dbo].[AspNetRoles]([Name])
    CREATE TABLE [dbo].[AspNetUserRoles] (
        [UserId] [nvarchar](128) NOT NULL,
        [RoleId] [nvarchar](128) NOT NULL,
        CONSTRAINT [PK_dbo.AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId])
    )
    CREATE INDEX [IX_UserId] ON [dbo].[AspNetUserRoles]([UserId])
    CREATE INDEX [IX_RoleId] ON [dbo].[AspNetUserRoles]([RoleId])
    CREATE TABLE [dbo].[AspNetUsers] (
        [Id] [nvarchar](128) NOT NULL,
        [Email] [nvarchar](256),
        [EmailConfirmed] [bit] NOT NULL,
        [PasswordHash] [nvarchar](max),
        [SecurityStamp] [nvarchar](max),
        [PhoneNumber] [nvarchar](max),
        [PhoneNumberConfirmed] [bit] NOT NULL,
        [TwoFactorEnabled] [bit] NOT NULL,
        [LockoutEndDateUtc] [datetime],
        [LockoutEnabled] [bit] NOT NULL,
        [AccessFailedCount] [int] NOT NULL,
        [UserName] [nvarchar](256) NOT NULL,
        CONSTRAINT [PK_dbo.AspNetUsers] PRIMARY KEY ([Id])
    )
    CREATE UNIQUE INDEX [UserNameIndex] ON [dbo].[AspNetUsers]([UserName])
    CREATE TABLE [dbo].[AspNetUserClaims] (
        [Id] [int] NOT NULL IDENTITY,
        [UserId] [nvarchar](128) NOT NULL,
        [ClaimType] [nvarchar](max),
        [ClaimValue] [nvarchar](max),
        CONSTRAINT [PK_dbo.AspNetUserClaims] PRIMARY KEY ([Id])
    )
    CREATE INDEX [IX_UserId] ON [dbo].[AspNetUserClaims]([UserId])
    CREATE TABLE [dbo].[AspNetUserLogins] (
        [LoginProvider] [nvarchar](128) NOT NULL,
        [ProviderKey] [nvarchar](128) NOT NULL,
        [UserId] [nvarchar](128) NOT NULL,
        CONSTRAINT [PK_dbo.AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey], [UserId])
    )
    CREATE INDEX [IX_UserId] ON [dbo].[AspNetUserLogins]([UserId])
    ALTER TABLE [dbo].[AspNetUserRoles] ADD CONSTRAINT [FK_dbo.AspNetUserRoles_dbo.AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [dbo].[AspNetRoles] ([Id]) ON DELETE CASCADE
    ALTER TABLE [dbo].[AspNetUserRoles] ADD CONSTRAINT [FK_dbo.AspNetUserRoles_dbo.AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[AspNetUsers] ([Id]) ON DELETE CASCADE
    ALTER TABLE [dbo].[AspNetUserClaims] ADD CONSTRAINT [FK_dbo.AspNetUserClaims_dbo.AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[AspNetUsers] ([Id]) ON DELETE CASCADE
    ALTER TABLE [dbo].[AspNetUserLogins] ADD CONSTRAINT [FK_dbo.AspNetUserLogins_dbo.AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[AspNetUsers] ([Id]) ON DELETE CASCADE
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202005230209387_UpdateDbContext', N'Vidly.Migrations.Configuration',  0x1F8B0800000000000400ED5DDD6EDCB815BE2FD0771074D5165E8F7F9A2035C6BB70C6716B34B6838C13F4CEA0257A2C44A26625CAB151EC93F5A28FD457282951127F25EA6734E360B140E091C88F8787DF210F499DB3FFFBCF7FE7BF3C47A1F304933488D1A97BB87FE03A1079B11FA0D5A99BE1879FDEB9BFFCFCC73FCC3FF8D1B3F3B52C774CCB919A283D751F315E9FCC66A9F7082390EE478197C469FC80F7BD389A013F9E1D1D1CFC6D7678388304C225588E33FF9C211C4430FF417E2E62E4C135CE407815FB304CD973F26699A33AD72082E91A78F0D4FD1AF8E1CB7E51CE75CEC200101996307C701D80508C0126129E7C49E11227315A2DD7E401086F5FD690947B00610A99E4277571DB4E1C1CD14ECCEA8A259497A5388E3A021E1E33ADCCE4EABD74EB565A237AFB40F48B5F68AF73DD9DBA8BBC0998B88EDCD8C9224C684151B5FB65853D277FBC570D3EE108FD6FCF596421CE12788A60861310EE399FB2FB30F0FE095F6EE36F109DA22C0C79A18858E49DF0803CFA94C46B98E097CFF081897AE9BBCE4CAC37932B56D5B83A45272E113E3E729D6BD238B80F6135E65C8797384EE0DF218209C0D0FF04308609A21830D79AD2BAD416FDB76C8D908C588AEB5C81E78F10ADF0E3A97BF4E68DEB5C04CFD02F9F3009BEA0801816A984930C6A246C6EF5325D66F7A99704F7D0BF8DAFE1F7348454F05292F7711C42803AE35EC1E89E8CEC63B0A638B51EDFBFE0EE42BE0F12FCE8035CE9E79CFC7D1B446AC56BF014ACF2E16894C7753EC3302F469F14865E51F34E2E7B91C4D1E738E4E82E15B95BC659E251E9E2E672B72059412C4A3D9FD556D5686BB258961627567B6D76D78B2F2DA644FEDC84292D8315FAB2BE80909B330EDF768639CF927C382FD1558CF0633A4813E741EAC56455FCCC198F05903527C97497D853312FFD3B03479ACCED278EF829E8305FD0D2AF6D907ED4E539B798815CA48BE599EF435F5D3D3B2291451382149E6B57E2AE1692D165E9129161F1BE0DB3B51CE9EC090479AD6E58468781CD6C1A3F2137903BF6BEF60DB8C78A3FC0BF1BE403946CA5B04D167D55B9F467E9FA1AE2FDB2E27E01799110B8EF71F26D9F47DC73ACEBD533C391EDCC707C78FF70FCEECD5BE01FBFFD2B3C7E33FD2CA1B1DBC3A3779BB0DBD6D9E2ED28AD1AD94B36AA49AA652F3FDE77AC584D62F5ADC2654D9151284DA1C6A77589BAFBD4A692AAF4D616A51DEA63096513535B4329EF66DBB566DCD97A4D062FA716D588B56724D57B6D3ED274E3FD21226BF108D39F452B8B183D0449543B377D0F2C3E813425D6EFFF03A48F23EC1D5BB68AD0CB1242CA2506D17AE3AD7D7A8C112CBCA429DB1A6D686EBFC717C023EEFB07446B0DC6FB483CCE38C31F904FBDD72FD86B3D5632018C22CE99E7C134BD206486FE826ED6DB3635CD70746ADAB6FBB1084110E9FD0F6912BD2B8BD63E88BE84E287188AE97C9126513FC6AB00D9895A16358B5A9468159515EB2A2A05B3939495340B9A176895B328359A77978FD0F8EE5D0EBBFBFEDDAE1F706CCB39CC87AF38D1DEF0DA94B7F41584D9D84DF5B2867C1218DF1A72D8DDB7865C4CF2F829F0A95762B1E9290B1378ABF2FAFD54BBCD49924D6D0E4237A76E7C9A39C0642E67691A7B416E05D2F5B27C2527768238728EE5FD5CD12FFEB68F748FD03DA00B1F11E9D4FD8BA2A376F87285E4E0E5CB3AB1914357E6EF0D3A8721C4D039F38A9BFE05483DE0AB234674E78B4F08E561428D1BD0DD504A4C364058B58F0079C11A84765D91AA5B2E6854BCAA21F9CD395C43442721BBB1B29140BD6456E5A99A95D4D8A6B5F98CA363334BF903611375B4A7C31C5D8A2B1A7B2AEA4E94393C763ABD6BACD3483D01D334BAB769B5BA7BD90AA934E7B4262E341DDAD69410AF0E36C88C46C1345C550F80DBCCA017F7CC5A9A8082664DD834AE3FEF9D8888860DBB69CCDB76EFF5B82BC7B09370B2E5D8C0C04BB675DD08319B353601399B55622380F1EE621B0465C734B60490CF6C768DA0D2619181A06C37390941458D6D81A0A24A5E1D418BD339DBF1978EEA768D9EE219E1F4CB7AA3BAB6C04D411F3B46CD62DB4DEA605203262A3DCFEFE94BF88C35E752444E763495B25DBE4C110ABE8458DABBA7AE536FF795CDB7B2C11141C41D9E0E4ADE68B700E64EBD0E87ED98DAE4A15B09AD18C506AEA53A3B97576A8BBE790B886C584D80B5F1B580B22F4114206592E9205C79B5D3281DF3AC3AC096D7308DB06C3D946039BB5089AA7CF7CD956EF9445C365DFB13A9AAA382C1287381FD191407A8188F3CCD8BEAB05095F0E99BAA1EE34148EB51082F3533B1061DE80E3F3884D2C6077757F7AD94DAEBB69DBAED5E9DEB0133EB0615346CAD391CCD54315829A60B5C5531363BC72E7B47AE636C301A14D4B2CF3328A9ECCCE85A2A27AD762DE9B62F5D363083B4246D360C5A2A3B33BA961847DB95A471A13B38D18354243ABC23195B792552F966D5BBF9AC0856640FE6334354E3FC0AACD7015A71518EEC89B32C421C173F2DBB47004605C6CC13B42D7B92554B384EC00A4A6F49D344D28B2049F139C0E01ED00BA1851F29C5B49EA8C131289B949D4D75204B2FA1AC41FF2E6A692313354E3BAB7941FA1651CF3FBF69D7ACDC6A5587C69A8210249A8BFD451C6611326F42CCB58BCF7BF8FAC5137B0473D89F2095B1947D4BEA1D0DDF42FB0D8E19998B0AE421B9C72AD67C268DA5B2E952F8A26C8D45025AD153F6C47A93B4D9EFB4A06A1BC0AE12960BAEE361B8C7F6586A841D0FA9BEED802C84DB09A8C29B9D212673957BF351EBEB5BD0D0506FDBECDBD6F4506C79FACF0AF9E1438FC9405F6FDBA36042A82E647910E32DAD19870B88134CB47E6C8F2584C4F168C28B0E5A12C3E2047589AFBA627201722A2AF77267ACC2E4E35B1A8570A6D6DD369AAB6FDB44B63424EA1667F0F0542794FD87C80C61527479E6CEABDA740E6F4629AFE505B3375CD56F6DC84C075296C3249FFF761FA55684CDD8128B41E201D8A38E185C188B02C6BDB34715238D784CF14D07E7580C27121C64F1550729F9A0214148FE452F3C8346F525EC5B50C3847874F5AD3DB226608887D6BCEE81AD91597E678FAA8929E28135AFEDB1EB002379FADCE1D5CA78F6DC63B92AAEAC86AD57068CCDCC85E32C775CA0060FC43DEE88C542311430F67C2779643C9DEFC1A3E28E72188F0C18E6D946086E10279BC6880C33A610B1204CE84D111B66BC6E6CDD2827946379B948D57A753C2F1DC3CFD991787B0642E58CBC28E23AA51AC962FE926218EDD302FBCB5FC34518403A759705AE000A1E608A8B281DF7E8E0F0484A65B83B69056769EA879A2B052E584A7FAA3E45B05D40B5DA1A4E372025087A0289F708123585D0C8E9FBEE033C5AEA3E1CA0975C33CAA74197C887CFA7EEBF738013E7F25F7732C69E739310869E3807CE6FC3D3FFD1BFB194746840545E6370D10474AB143B02A3FE1481E73F0F4F5D9746200CFBC864CA5ED7B78FBA047676581D73D8BDEA51EF388F74CC1CF7FBFC6B0495F2B375992259D54133A392DA4D3733F64DEDD61B4B9BDAAD37DDF5D9DD469E03CCA7BD53F05D4BC73CD476148EB79191769AFE953FDE732ED32F28F835232F6EC99A4A5929A70E1957E70D89BF2A417F7B1519B5EC554EECBFA82A9AFFC0E117F36C7592A6A83A409ADED9B75EAFB50969AE0C4BCADB661FD500AAA44EEAE3C7EB325A19DDC4DE59AB06216A32538D85378A0A4D99A7FA6019B34ED9ED661A00078B66CC40D567C196F34FD94F4365CD2DAE439A63D957EBF0EED6DAA4A4F91964E86A2A9F0E70A3A6EB19E6A2BCB23438A32D9D9A2C37A3616F93F79B4B6D2307273584C04D12075A87F069E3FA3612EBD9FAF5EBC692D4FC68E9685808971AFF38097758B0A41A3EB911D698BE51DD4C9E991F37B5CCAE6493A9CF0BA68F366FF9A8706379631ABE92FBA1D2C5EC4082034D707273E8F214690DA6E69AE913971DCFACD12DF5CB8E918DED309A03DA7F44B299BE83D971B2754AE3B2635CDBD6FAB965A6592FA15B4FCAA246CCCAC32A26C8A8775EF50654D994155F149DBAFE7D4C06BFD8C4F64CC562918945D75A9F6C2DE6642DBA163AE47131A771D18A6E95E145F48B157CF1B5AE99225DB33E7EDCD4586DB4C606EB22E646CD81EB72C3CA04A6B4AB94686EB65B5F99E3D5D85956A6B95943BA87A6B6D93ADCD8362BD3DCB62189C2F4296AF486AD8B1656A743DD791057DF38B96C29F58C309F7081A84D1D13A60A2E6C727897369C5E469B9C42970CAAC54B307C79AC4D2BB5CBE964849EB4E4B56ADB11367ED53FBE5236973D6614A50873A2E113F5F195B2A96431A3A8644CD3E9901C46FDDA9C78A619A2D7CBC5AF739806AB1A624E3011F4049FB42A73891EE2D23596242A8B289F0E63E01387F52CC1C103F030794D6F96F3FF8B407E5B47BF6FB887FE25BAC9F03AC3A4CB648509859B2CEA6237B59F67C011659EDFACE9AF748C2E1031037A237F83DE6741E857725F682E7B0C10D47767F7B8742C31BDCF5DBD5448D731B20462EAABB61CB7305A87042CBD414BF004FBC846E8F711AE80F7525FED9940DA074254FBFC3C00AB044429C3A8EB939F84C37EF4FCF3FF01F2E229771C820000 , N'6.4.4')
END

IF @CurrentMigration < '202005231436596_SeedUsers1'
BEGIN
    
                INSERT INTO [dbo].[AspNetUsers] ([Id], [Email], [EmailConfirmed], [PasswordHash], [SecurityStamp], [PhoneNumber], [PhoneNumberConfirmed], [TwoFactorEnabled], [LockoutEndDateUtc], [LockoutEnabled], [AccessFailedCount], [UserName]) VALUES (N'8a79e096-052b-4057-9683-7a7443aa305a', N'admin@vidly.com', 0, N'ANaXDXa9/SwwyhWKJSMsMdMZXmKNFDWHr8d4VIiKORt9fiFjJTgKZhNiJYGi1RLjQg==', N'467b70f2-2e2d-43b5-aa43-df05fb57d231', NULL, 0, 0, NULL, 1, 0, N'admin@vidly.com')
                INSERT INTO [dbo].[AspNetUsers] ([Id], [Email], [EmailConfirmed], [PasswordHash], [SecurityStamp], [PhoneNumber], [PhoneNumberConfirmed], [TwoFactorEnabled], [LockoutEndDateUtc], [LockoutEnabled], [AccessFailedCount], [UserName]) VALUES (N'b38fafbd-3156-440a-88ab-851b2433fefc', N'guest@vidly.com', 0, N'AAW9NIqUYk2fzp4xEofrNRiTM0FFUYrdZvL86YXBk4OVCjikqSAWUQytHgek+Cl4yA==', N'bb97d846-7e91-4b40-a1cd-94e996ffa47c', NULL, 0, 0, NULL, 1, 0, N'guest@vidly.com')
    
                INSERT INTO [dbo].[AspNetRoles] ([Id], [Name]) VALUES (N'df696c9b-fa26-4f46-b2b1-ad753ea50361', N'CanManageMovies')
    
                INSERT INTO [dbo].[AspNetUserRoles] ([UserId], [RoleId]) VALUES (N'8a79e096-052b-4057-9683-7a7443aa305a', N'df696c9b-fa26-4f46-b2b1-ad753ea50361')
                
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202005231436596_SeedUsers1', N'Vidly.Migrations.Configuration',  0x1F8B0800000000000400ED5DDD6EDCB815BE2FD0771074D5165E8F7F9A2035C6BB70C6716B34B6838C13F4CEA0257A2C44A26625CAB151EC93F5A28FD457282951127F25EA6734E360B140E091C88F8787DF210F499DB3FFFBCF7FE7BF3C47A1F304933488D1A97BB87FE03A1079B11FA0D5A99BE1879FDEB9BFFCFCC73FCC3FF8D1B3F3B52C774CCB919A283D751F315E9FCC66A9F7082390EE478197C469FC80F7BD389A013F9E1D1D1CFC6D7678388304C225588E33FF9C211C4430FF417E2E62E4C135CE407815FB304CD973F26699A33AD72082E91A78F0D4FD1AF8E1CB7E51CE75CEC200101996307C701D80508C0126129E7C49E11227315A2DD7E401086F5FD690947B00610A99E4277571DB4E1C1CD14ECCEA8A259497A5388E3A021E1E33ADCCE4EABD74EB565A237AFB40F48B5F68AF73DD9DBA8BBC0998B88EDCD8C9224C684151B5FB65853D277FBC570D3EE108FD6FCF596421CE12788A60861310EE399FB2FB30F0FE095F6EE36F109DA22C0C79A18858E49DF0803CFA94C46B98E097CFF081897AE9BBCE4CAC37932B56D5B83A45272E113E3E729D6BD238B80F6135E65C8797384EE0DF218209C0D0FF04308609A21830D79AD2BAD416FDB76C8D908C588AEB5C81E78F10ADF0E3A97BF4E68DEB5C04CFD02F9F3009BEA0801816A984930C6A246C6EF5325D66F7A99704F7D0BF8DAFE1F7348454F05292F7711C42803AE35EC1E89E8CEC63B0A638B51EDFBFE0EE42BE0F12FCE8035CE9E79CFC7D1B446AC56BF014ACF2E16894C7753EC3302F469F14865E51F34E2E7B91C4D1E738E4E82E15B95BC659E251E9E2E672B72059412C4A3D9FD556D5686BB258961627567B6D76D78B2F2DA644FEDC84292D8315FAB2BE80909B330EDF768639CF927C382FD1558CF0633A4813E741EAC56455FCCC198F05903527C97497D853312FFD3B03479ACCED278EF829E8305FD0D2AF6D907ED4E539B798815CA48BE599EF435F5D3D3B2291451382149E6B57E2AE1692D165E9129161F1BE0DB3B51CE9EC090479AD6E58468781CD6C1A3F2137903BF6BEF60DB8C78A3FC0BF1BE403946CA5B04D167D55B9F467E9FA1AE2FDB2E27E01799110B8EF71F26D9F47DC73ACEBD533C391EDCC707C78FF70FCEECD5BE01FBFFD2B3C7E33FD2CA1B1DBC3A3779BB0DBD6D9E2ED28AD1AD94B36AA49AA652F3FDE77AC584D62F5ADC2654D9151284DA1C6A77589BAFBD4A692AAF4D616A51DEA63096513535B4329EF66DBB566DCD97A4D062FA716D588B56724D57B6D3ED274E3FD21226BF108D39F452B8B183D0449543B377D0F2C3E813425D6EFFF03A48F23EC1D5BB68AD0CB1242CA2506D17AE3AD7D7A8C112CBCA429DB1A6D686EBFC717C023EEFB07446B0DC6FB483CCE38C31F904FBDD72FD86B3D5632018C22CE99E7C134BD206486FE826ED6DB3635CD70746ADAB6FBB1084110E9FD0F6912BD2B8BD63E88BE84E287188AE97C9126513FC6AB00D9895A16358B5A9468159515EB2A2A05B3939495340B9A176895B328359A77978FD0F8EE5D0EBBFBFEDDAE1F706CCB39CC87AF38D1DEF0DA94B7F41584D9D84DF5B2867C1218DF1A72D8DDB7865C4CF2F829F0A95762B1E9290B1378ABF2FAFD54BBCD49924D6D0E4237A76E7C9A39C0642E67691A7B416E05D2F5B27C2527768238728EE5FD5CD12FFEB68F748FD03DA00B1F11E9D4FD8BA2A376F87285E4E0E5CB3AB1914357E6EF0D3A8721C4D039F38A9BFE05483DE0AB234674E78B4F08E561428D1BD0DD504A4C364058B58F0079C11A84765D91AA5B2E6854BCAA21F9CD395C43442721BBB1B29140BD6456E5A99A95D4D8A6B5F98CA363334BF903611375B4A7C31C5D8A2B1A7B2AEA4E94393C763ABD6BACD3483D01D334BAB769B5BA7BD90AA934E7B4262E341DDAD69410AF0E36C88C46C1345C550F80DBCCA017F7CC5A9A8082664DD834AE3FEF9D8888860DBB69CCDB76EFF5B82BC7B09370B2E5D8C0C04BB675DD08319B353601399B55622380F1EE621B0465C734B60490CF6C768DA0D2619181A06C37390941458D6D81A0A24A5E1D418BD339DBF1978EEA768D9EE219E1F4CB7AA3BAB6C04D411F3B46CD62DB4DEA605203262A3DCFEFE94BF88C35E752444E763495B25DBE4C110ABE8458DABBA7AE536FF795CDB7B2C11141C41D9E0E4ADE68B700E64EBD0E87ED98DAE4A15B09AD18C506AEA53A3B97576A8BBE790B886C584D80B5F1B580B22F4114206592E9205C79B5D3281DF3AC3AC096D7308DB06C3D946039BB5089AA7CF7CD956EF9445C365DFB13A9AAA382C1287381FD191407A8188F3CCD8BEAB05095F0E99BAA1EE34148EB51082F3533B1061DE80E3F3884D2C6077757F7AD94DAEBB69DBAED5E9DEB0133EB0615346CAD391CCD54315829A60B5C5531363BC72E7B47AE636C301A14D4B2CF3328A9ECCCE85A2A27AD762DE9B62F5D363083B4246D360C5A2A3B33BA961847DB95A471A13B38D18354243ABC23195B792552F966D5BBF9AC0856640FE6334354E3FC0AACD7015A71518EEC89B32C421C173F2DBB47004605C6CC13B42D7B92554B384EC00A4A6F49D344D28B2049F139C0E01ED00BA1851F29C5B49EA8C131289B949D4D75204B2FA1AC41FF2E6A692313354E3BAB7941FA1651CF3FBF69D7ACDC6A5587C69A8210249A8BFD451C6611326F42CCB58BCF7BF8FAC5137B0473D89F2095B1947D4BEA1D0DDF42FB0D8E19998B0AE421B9C72AD67C268DA5B2E952F8A26C8D45025AD153F6C47A93B4D9EFB4A06A1BC0AE12960BAEE361B8C7F6586A841D0FA9BEED802C84DB09A8C29B9D212673957BF351EBEB5BD0D0506FDBECDBD6F4506C79FACF0AF9E1438FC9405F6FDBA36042A82E647910E32DAD19870B88134CB47E6C8F2584C4F168C28B0E5A12C3E2047589AFBA627201722A2AF77267ACC2E4E35B1A8570A6D6DD369AAB6FDB44B63424EA1667F0F0542794FD87C80C61527479E6CEABDA740E6F4629AFE505B3375CD56F6DC84C075296C3249FFF761FA55684CDD8128B41E201D8A38E185C188B02C6BDB34715238D784CF14D07E7580C27121C64F1550729F9A0214148FE452F3C8346F525EC5B50C3847874F5AD3DB226608887D6BCEE81AD91597E678FAA8929E28135AFEDB1EB002379FADCE1D5CA78F6DC63B92AAEAC86AD57068CCDCC85E32C775CA0060FC43DEE88C542311430F67C2779643C9DEFC1A3E28E72188F0C18E6D946086E10279BC6880C33A610B1204CE84D111B66BC6E6CDD2827946379B948D57A753C2F1DC3CFD991787B0642E58CBC28E23AA51AC962FE926218EDD302FBCB5FC34518403A759705AE000A1E608A8B281DF7E8E0F0484A65B83B69056769EA879A2B052E584A7FAA3E45B05D40B5DA1A4E372025087A0289F708123585D0C8E9FBEE033C5AEA3E1CA0975C33CAA74197C887CFA7EEBF738013E7F25F7732C69E739310869E3807CE6FC3D3FFD1BFB194746840545E6370D10474AB143B02A3FE1481E73F0F4F5D9746200CFBC864CA5ED7B78FBA047676581D73D8BDEA51EF388F74CC1CF7FBFC6B0495F2B375992259D54133A392DA4D3733F64DEDD61B4B9BDAAD37DDF5D9DD469E03CCA7BD53F05D4BC73CD476148EB79191769AFE953FDE732ED32F28F835232F6EC99A4A5929A70E1957E70D89BF2A417F7B1519B5EC554EECBFA82A9AFFC0E117F36C7592A6A83A409ADED9B75EAFB50969AE0C4BCADB661FD500AAA44EEAE3C7EB325A19DDC4DE59AB06216A32538D85378A0A4D99A7FA6019B34ED9ED661A00078B66CC40D567C196F34FD94F4365CD2DAE439A63D957EBF0EED6DAA4A4F91964E86A2A9F0E70A3A6EB19E6A2BCB23438A32D9D9A2C37A3616F93F79B4B6D2307273584C04D12075A87F069E3FA3612EBD9FAF5EBC692D4FC68E9685808971AFF38097758B0A41A3EB911D698BE51DD4C9E991F37B5CCAE6493A9CF0BA68F366FF9A8706379631ABE92FBA1D2C5EC4082034D707273E8F214690DA6E69AE913971DCFACD12DF5CB8E918DED309A03DA7F44B299BE83D971B2754AE3B2635CDBD6FAB965A6592FA15B4FCAA246CCCAC32A26C8A8775EF50654D994155F149DBAFE7D4C06BFD8C4F64CC562918945D75A9F6C2DE6642DBA163AE47131A771D18A6E95E145F48B157CF1B5AE99225DB33E7EDCD4586DB4C606EB22E646CD81EB72C3CA04A6B4AB94686EB65B5F99E3D5D85956A6B95943BA87A6B6D93ADCD8362BD3DCB62189C2F4296AF486AD8B1656A743DD791057DF38B96C29F58C309F7081A84D1D13A60A2E6C727897369C5E469B9C42970CAAC54B307C79AC4D2BB5CBE964849EB4E4B56ADB11367ED53FBE5236973D6614A50873A2E113F5F195B2A96431A3A8644CD3E9901C46FDDA9C78A619A2D7CBC5AF739806AB1A624E3011F4049FB42A73891EE2D23596242A8B289F0E63E01387F52CC1C103F030794D6F96F3FF8B407E5B47BF6FB887FE25BAC9F03AC3A4CB648509859B2CEA6237B59F67C011659EDFACE9AF748C2E1031037A237F83DE6741E857725F682E7B0C10D47767F7B8742C31BDCF5DBD5448D731B20462EAABB61CB7305A87042CBD414BF004FBC846E8F711AE80F7525FED9940DA074254FBFC3C00AB044429C3A8EB939F84C37EF4FCF3FF01F2E229771C820000 , N'6.4.4')
END

IF @CurrentMigration < '202005232016317_UpdateProfile'
BEGIN
    ALTER TABLE [dbo].[AspNetUsers] ADD [DrivingLicense] [nvarchar](255) NOT NULL DEFAULT ''
    ALTER TABLE [dbo].[AspNetUsers] ADD [Phone] [nvarchar](50) NOT NULL DEFAULT ''
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202005232016317_UpdateProfile', N'Vidly.Migrations.Configuration',  0x1F8B0800000000000400ED5D5B6FDCB8157E2FD0FF20E8A92DBC1E5F9A2035C6BB70C6716B34B6838C13F4CDA0257A2C44A26625CAB151EC2FEB437F52FF424989927895A8CB68C6C16281C0C3CBC7C3C373C873489DB3FFFBCF7FE7BF3C47A1F304933488D1A97BB87FE03A1079B11FA0D5A99BE1879FDEB9BFFCFCC73FCC3FF8D1B3F3B56C774CDB919E283D751F315E9FCC66A9F7082390EE478197C469FC80F7BD389A013F9E1D1D1CFC6D7678388304C225588E33FF9C211C4430FF417E2E62E4C135CE407815FB304C5939A959E6A8CE358860BA061E3C75BF067EF8B25FB4739DB330008486250C1F5C07201463800985275F52B8C4498C56CB352900E1EDCB1A92760F204C21A3FCA46E6E3B8983233A8959DDB184F2B214C75147C0C363C69599DCBD176FDD8A6B846F1F087FF10B9D75CEBB5377910F0113D791073B5984096D28B276BFECB0E7E4C57BD5E21319A1FFED398B2CC459024F11CC7002C23DE753761F06DE3FE1CB6DFC0DA2539485214F14218BD40905A4E85312AF61825F3EC30746EAA5EF3A33B1DF4CEE5875E3FA1493B844F8F8C875AEC9E0E03E84D59A73135EE238817F8708260043FF13C018268862C09C6BCAE8D258F4DF7234226444535CE70A3C7F8468851F4FDDA3376F5CE72278867E59C228F88202A258A4134E32A8A1B079D4CB7499DDA75E12DC43FF36BE86DFD31052C24B4ADEC7710801EA8C7B05A37BB2B28FC19AE2D47C7CFF82BB13F93E48F0A30F70C59F73F2F76D10A91DAFC153B0CA97A3911ED7F90CC3BC192D2914BD12CD3BB9ED4512479FE3901377A9C9DD32CE128F521737B7BB05C90A6291EAF9ACD6AA465D93C9B2D438B1DB6BD3BB5EF2D2A24AE4CF4DA8D23258A12FEB0B08B93DE3F06D6798F32CC997F3125DC5083FA68338711EA45E4C4EC5CF9CF2580059CB24D9EE127B51CC5BFF2E81236DE6F61B47FC1474D82F68EBD7B6483FEAF19C6BCC4059A487E599EF435F3D3D3B2291431382149E6B4FE2AE1A92D163E9129165F1BE0DD3B51CE9EC090479AF6E58468381ED6C1A3B2157903B565FDB065CB1620FF075836C80525A296C93465F5526FD59BABE8678BFECB85F405E2404EE7B9C7CDBE711F71CEB7EF5CE7064BB331C1FDE3F1CBF7BF316F8C76FFF0A8FDF4CBF4B68F4F6F0E8DD26F4B675B7783BCAA846E9258E6A926AA5975FEF3BD6AC1662B55691654D9351449A428D2FD625EAEE8B36A554156F6D533AA13E9A500E31B53694F46E765C6B893B5BAFC9E2E5A24539626D1949FD5E9B8D34DD7A9F27C11319EA63E041946EC16AFAF418A3A661DF1C6C62D40F11B14046D8F42D4659C4E82148A2DAA4EB7B4DF309A429D9F3FC7F80F471048FB9C541865E9610555C6210AD373E5A2E04856D38E558A32DCDEDF7F80278C469F98068AFC1781F899D1D67F803F2A9CDFE057BAD9769268051C839F33C98A6174498A1BFA057146DAE5C331CDD90B76D742D4210447AAB4B3A3AEECAA6B5E5A56FA1585F86663A0BAC89D48FF12A4076A4964DCDA4162D5A4965CDBA924AC1EC28652DCD84E60D5AE92C5A8D66D3E62B34BE519BC3EEBE55BBEBD73ADB3289F3E52BEEF1377C36E5237D056136F650BDB421DF04C6D7861C76F7B5212793143F053EB54A2C5CBDB23181B76AAFF722DB754EA26C6A7510A639F5E0D3EC012675394BD3D80B722D901ED5E587487112C490732C5F258B79F16F9C647A44DC037AF011924EDDBF283C6A872F4F480E5E7EA21407397465F9BD41E73084183A675EF17DC302A41EF0D51523BCF3C51222F230A1CA0DA8379412950D1056F523405EB006A1DD54A4EE96071A25AF1A48AE39876B88E82664B7563614A84FEB2A3DD5B0121BDBB8369F71E2D82CA5FC35B84974B477E29CB8140F53F6A2A8BB47E7F0D89DFCAE499D86EA09244DC37B9B51AB17A7AD0895E676DA240B4D57D5B548880F261B948C46C234B2AA5E7BB7A9412FD933736902113473C26670FD2DF744826870D84D6BDEE6BDD7EBAE5C3E4F22932DD70606B964AEEB4604B39963130867334B6C0830BED86C4340D9358DAD00C87736BB26A0D26591414099373989808A1CDB82808A2C7975025ADCCED9AEBF7455B76BE229DE114E7FAC37B26B0BB229F063C744B370BB491F4C7AC04415CFF37B5A099FB1E65E8AD0C9AEA652E6E5CB2242C197104BBE7BEA3AB5BBAF38DF8A832382881E9E0E4A76B45B0073A35E87C33CA6367AA82BA125A370E05ABAB37B79A5B7689BB780C88AD504582B5F0B28FBFE45015236990EC4954F3B8DD431CBAA036CF90CD308CBCE430996D30B555095AFDDB9D62D1FC6CBAA6B7F23554D545018652FB0BF83E20015E591B779911D16AC123EF853D963BC0869BD0AE1A9662AD6C003DDE5078750EAF8E0E9EABE105367DDE6A9DBFAEADC0C985A37B0A0C1B5E670345BC560A6981E7055C6D8788E5D7C476E626C311A18D4E2E71998544E66742E959B563B9774EE4B17076610972467C3C0A57232A37389C9683B9334267407237A108B44837724652B9F442ADBACAA9BCF8A104D56309F196239E75760BD0ED08A8BED6425CEB208EC5CFCB4EC1EF7181518334FE0B66C495623E138012B28D592A109A5174192E27380C13DA00F420B3F529A692D518361500E291B9BEA42965642D983FE5DF4D2C6636A8C76D6F382CC2DA2967FFED2AE39B9D5AE0E8DB0052148340FFB8B38CC22647642CCBD8BCF7BF8FE45893D8239D851A0CAD8CA7E24F58D861FA1FD05C78CCCC542F2905CB18A359F496BA9385D8ABC28AEB1288056E2295B62BD85B4D9EEB410D536805D15582EA49087E18AEDB1D4B8421E52ADED802C04190AA842CDCE082633957BCBA3D6D6B7104343BF6D4BDFB6B687C2E5E9BF2BE4970F3D36037DBF6DAF8209A17A90E5418CAFB4661C2E0C5050D1BAD81E4B0804E4D1848A0E5C128301057689555D31B9B0401595ABDC19AD30D9F8964A21DCA975D78DE6EEDB56912D2D89EAE20C5E9EEA86B2FF1299214C8C2EEFDC79569BEEE1CD28E5B3BCA0F686A7FAAD2D99E942CA7299E4FBDFEEABD48AB0195D9223AF849D5EAAB34765F1543C182BB2C760D1513C062BEA88C105D828605C5D87D9093150C224859A0E66BB18E82498EE6255C73528C3999495282B7AE11938AA6F613F821AC0C4A3ABB5F6C89A50261E5A53DD035B43B35C678FAA8976E28135D5F6D875E893BCB1EFF0396ABC15EF7190168F69C34E5203C66676E9710E622E848407E28A3B62B12011058C95EFA41C19DF0D7AC851F17A3A4C8E0C18E6DD4608BB10379BC6581133A6104B216CE84DB12466BC6ED2BA5199501E0CE426D5E8D5C381F440306797F5ED192195DBFBA289EB946C2487F94B8A61B44F1BEC2F7F0D176100E9D65D36B802287880292EE287DCA383C32329B5E4EEA4799CA5A91F6A1E3BB8302EFD7DFF14618001E56A6BA0DF80142DE80924DE2348D4E40423A753BC0FF068A91471805E72CE281F2D5D221F3E9FBAFFCE014E9CCB7FDDC9187BCE4D4224F4C439707E1B9E8E91FE8DA5245003E2051BC39E2610B78AB12348D49F22F0FCE7E1A904D30884611F9A4CD904FBCE519750D00EAB634EC157BDEA1DF7918E99FC7EDF7F8DA052BEBC2E5B24EB3A68675452EDE976C6BEA9F67A636953EDF516777DB6BD91F700F33DF414F2AE15C73C087814196F13463A69FA575EBCE75CA65F50F06B462A6EC9994AA5524E6A322ECF1B12B15584FEF62A329CD9B39CE87FD15554FF81CB2FE63DEB444DD1750035BDB3A1BD5E6DD3A71D1BED6C11B28A6951695EB12149C30CA4BE6DB6AB0DA04A22AA3EBE872E3F98D1B4ED9D036C10A226CFD75878A3B0D094C7AB0F963187979D07D600389834633EAF3E46869CCDCB7EEB2C7B6EF1ECD45C25BF5A237DB7CE532569D2204557132375801B35F9D130B3EA9525151AEDB8D7E40C1A0D7B9B72BFB9444172A8574340E12451B57540A4364A722391B3ADDF126F2CE5CF8F96DC8705C4A9D1A493C80E0B3D558351372235A62F7E3793B5E7C74DD4B32BB979EA3B8EE963F75B3ED1DC58169E866F0E7FA8E43B3B902E4213EADD1C083E459288A965CDF459CE8EE729E9964867C7848D7918CDE9017E4461337DBBB3E3C2D62929CE8EC9DAB6CECF2D4B9AF511BAF514376AFCB1BCAC62BA91DAF3AA1D50C5292BBE823A75FDFB982C7EE1C4F64C6C6391D746375A9FDC37E6D437BA113A64C53127C5D1926E952F47B48B157CB15A374C91FC5A1F8D6F1AAC565AE3807513F3A0E63400F2C0CA06A68CABB4681EB6DB5C99E1D53859D6A6795843F28CA6B1D939DC38366BD33CB62125C5F4097FF48AAD8BBD56B743DD7D10D7DFB8B96C29918FB09F7061BD4D1313B60A2E0875F894369CAC479BEA43975AABC54A307C2DAD4DD2B5CBC9798499B464096BF3081B2311C667CAE672F18CC214614F347C563F3E5336957A6714968CA93A1D52EDA85FC813CB3443F479B9F8750ED3605543CC0926829E6093566D2ED1435C9AC612456513E573670C7C62B09E253878001E26D5F46539FF7F32E4AF75F4FB867BE85FA29B0CAF334CA64C4E985078C9A22676D3F8793E2191E6F9CD9AFE4AC798022133A02FF237E87D16847E45F785E6B1C700416D77F68E4BD712D3F7DCD54B8574AD445F9A8018FB2A97E31646EB9080A53768099E601FDA88F87D842BE0BDD44F7B2690F68510D93E3F0FC02A0151CA30EAFEE42791613F7AFEF9FF790D180E60840000 , N'6.4.4')
END

IF @CurrentMigration < '202005252115136_AddRentals'
BEGIN
    CREATE TABLE [dbo].[Rental] (
        [Id] [int] NOT NULL IDENTITY,
        [DateRented] [datetime] NOT NULL,
        [DateReturned] [datetime],
        [Customer_Id] [int] NOT NULL,
        [Movie_Id] [int] NOT NULL,
        CONSTRAINT [PK_dbo.Rental] PRIMARY KEY ([Id])
    )
    CREATE INDEX [IX_Customer_Id] ON [dbo].[Rental]([Customer_Id])
    CREATE INDEX [IX_Movie_Id] ON [dbo].[Rental]([Movie_Id])
    ALTER TABLE [dbo].[Rental] ADD CONSTRAINT [FK_dbo.Rental_dbo.Customer_Customer_Id] FOREIGN KEY ([Customer_Id]) REFERENCES [dbo].[Customer] ([Id]) ON DELETE CASCADE
    ALTER TABLE [dbo].[Rental] ADD CONSTRAINT [FK_dbo.Rental_dbo.Movie_Movie_Id] FOREIGN KEY ([Movie_Id]) REFERENCES [dbo].[Movie] ([Id]) ON DELETE CASCADE
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202005252115136_AddRentals', N'Vidly.Migrations.Configuration',  0x1F8B0800000000000400ED5D5B6FDCB8157E2FD0FF20E8A92DBC1E5F9A2035C6BB70ECB8351A5FE07182BE19B4448F85D56556E238368AFD657DE84FEA5F28295112AF1229693472102CB0F088E4C7C3C3730EEF5FFEF79FFFCE7F798942E719A65990C4C7EEFEEE9EEBC0D84BFC205E1EBB6BF4F8D307F7979FFFF887F9273F7A71BE96F90E493E5C32CE8EDD27845647B359E63DC10864BB51E0A549963CA25D2F8966C04F66077B7B7F9BEDEFCF2086703196E3CC6FD7310A2298FFC03F4F93D8832BB406E165E2C330A3DF71CA224775AE4004B315F0E0B1FB35F0C3D7DD229FEB9C8401C0322C60F8E83A208E13041096F0E84B0617284DE2E562853F80F0EE750571BE471066904A7E5467376DC4DE0169C4AC2E584279EB0C259125E0FE21D5CA4C2CDE49B76EA535ACB74F58BFE895B43AD7DDB17B9A570153D7112B3B3A0D53929157ED6E5960C7C93FEF549D8F6D84FCB7E39CAE43B44EE1710CD72805E18E73B37E0803EF9FF0F52EF915C6C7F13A0C59A1B058388DFB803FDDA4C90AA6E8F5163E52512F7CD799F1E56662C1AA1853A668C4458C0E0F5CE70A570E1E4258F539D3E0054A52F87718C31420E8DF0084601A130C986B4DAA5DA88BFCBFAC0D1B19F614D7B9042F9F61BC444FC7EEC1BB77AE731EBC40BFFC4225F81207D8B1702194AEA142C2E65A2FB2C5FA21F3D2E001FA77C915FC968590085E4AF231494208626BDC4B183DE09E7D0A5604A7D6E3C757642FE4C720454F3E40957ECEF0DF77412417BC02CFC132EF8E46795CE716867936F2A570F4CA34EFC5BCE76912DD262163EE4296FB45B24E3D225DD29CEF0EA44B8878A9E7B3DAAB1A7D4D14CBD0E3F8626FCDEF3AD94B8B2BE13F37E14A8B60197F599D43C8C48CFDF7D63067EB34EFCE8BF83289D153D64B136741E6257854BC659CC700C8D82671B84BCD4D31CFFDC302070AE6E68123790E2CE205C9FDD63AE97B1D9E738FE9698B64B03CF17DE8CBA3A725121E3421C8E0997224B6F5903519962E62DC2DDEAFFD7C2D473A7906415ECA0E4B3B61A0914D314FC81DE49EA6D77303E6B3341F60D37ACD016EB1B182D0D8978BEC3F9C59E512443703F8440185B518ABC04CADAD5E47290CAEE8C5FB3A4F6D744292647862BACAF81AA7CDC5D0A1178A6690242A2C5E234E91D8CB11CA9E26B84DEE7059AD6D4FB2D51544BB65C1DD02F23CC570DF92F4D75D1671C7312E577BD581A9571DEE3F3C1E7E78F71EF887EFFF0A0FDF8DEF618A016CFFE0C32606B0D661F3FD20B56A0DF84B867B4769C06C7FDFD36CB519CBA992312BB20C62D2046A78B32E51A76FDA4452D9BC95594983BA784259C5D8DE50CABBD97A8D2DEE64B5C29D979B16D188F1B44228F7D6E617E3F5F7591A3CE3AA3E071E8CB32D2C1F6E9E92B8A9DA777B9BA8F55384A7E203047D835A4E93F83148A37AEAD575BFF20664198E79FE3F40F634C0D651CB4E11F4D62976C50502D16AE3B5E546502C92C6AC6BB0AEB9FB969C030F4FF83FC5A4546FBCCF78C199ACD1A7D827F3F42FC86B9DB6EB000611E7C4F360969D636386FE29D9AB6B5B0635C39180BCED49D7690882483DEB12868EFB326B3DF352E790665F9A6CB60B9CCFC93288CD442DB3EA452D72B48A4AB3D98A4AC0CC24A539F582E6195AE52C720D36A7CD7B68F8496D0E3BFD59EDD4B744B63525CEBBAF38D0DAF0D894D7F41584EBA1ABEAE40D791018DE1B72D8E97B432E26FEFC1CF8645662B0D42B336378A3FCEA5564BBCF09928DED0E5C33C7AE7C9C18A07397932C4BBC20F7026157543C91E71B8127728EE1F17CD12EF6B01F370F9B7B40063E2CD2B1FB174947EDF0E508C9C08B67F57C25FBAE68BFD7F1190C2182CE89575CF4390599077CB9C7B0EE7CFE0B36799812E70664359461970D6224FB47107BC10A84664D118A1B0E6844BCAA2231E50CAE604C8290595F994820DF3191E5A9AA15D4D8A6B5F98C31C7662B65CF8374A6A33C1C62CCA5D845373745D5811283470FA7A666750AA947B03485EE4D6AAD8E5EB76254E2998FCE10B40740B531946786E6D6A53B3532889FC31999BDB20A2F6A6994703035809AF8D3AC36AFDE8A8214671DBA46351D7CD44DE38FDF3618671A0553E85C3E4469EBCF4E914CAFA511029A5E132695ABCF4C460A6B9AED1F5D9FB7ED05D5FD2E1D658C62932D9B501ABBA41B211B31CC668D8D609CCD2A3111407BFEB70D03A59B7EA60620EE004ECD4085AD478D81D2BD89510C94D7D8160C9457C99B33D062AFD7B4FF858DDFA99927BFE33CFEB0DEA8AE2DD826A78F899966B18983CB205C02A6B2799E3D9044F88214BB9C584EBAD199D13D23D14408F80222612728739D7AF3485A8A4833751E84DF2F504189DB362D80F912518543D7DF6DF290F581528C62E1D052BC587EA8CA974B993680E298482ACE4FEE5B4044CF6C02ACBDB705945EC79280A42865215C79D2D8281D9D9A59C096A7828DB07440156019C7922D5D7A85C4E46E79B024FABEF90669D550CEE3A46062BE25CA004ADE278E13BC3A0C54C55DC496D5A3DD976BDD9963A5A63EDAA003D55E1C83500689DECD95AE01CB4D6EDC3532DA376204AFE24B43DB753B452686D45D05343E6ADBAFD8086ADF0AEAD6727EF3A7D5703AB459754F556E79DB0E8FE91E0FAB85229A37E8A0614B86C1518C10BD95A2BB46222BC664C7C166CF816918ED8C0605B5EC0F6894543666702D956355BB9654CB5E9B856F2F2D098B548D96CAC60CAE256AA3ED4A522CBD2C165FBD54C42F940672B6F260B69AD35769F359C198403FCC671A6A85F92558AD8278C9502DD02FCEA2E05938FD69614F43101518338FD3B6B802A96A42490A965048C5556349CF83344367008107408EA54FFD48CAA65CC168E6836595E22245EEC872725896207F17A594F4088AC51E2D798EDB169115637EDF4731CECA451D42780142902AAE179D26E13A8AF58B577DE9E292215BBEF8628EA0E71EE0A4D2E632AF493E29666B683F47D62333D4042C24F359C69ACF84BE9416EB92BD485B2ABC011A99A73801EF6CA4CDCB0D03536D0398AAC1322FFC5918E6B33996FCCC9F8594532D90B937FF1C2A973219C3A42BA4CEF6A85CE21998A1A6DCB6AD6F5BE1A158B0748F0AAA459749305097DB762FE810AA6B212C88F6AE881E877995CFB968FDD91C8B7B97CFA27109165AE2DFE673EAE2936C319957FA322A933819AF28B7023ABB05DD8BB5F70B5DC1CD3806FB225EB4C7F2BB2D5AF9285EC62B53A6D3CD9AA59C6127733BE6F65DDD5C7CDB91704B5D22AF647B774F75FED0BD8BF4103A45974772ACAA75C7747A94F2D60E17DD353779B6D665BA7D47C36E124F77EC7BA9156143C15378E6CB053C21CD1C953EDE65C1E827730CFA1497C5A09F2C3198D79C12189366D13AEEC12DD7482EC56275C6BFAAE556687C92651F946F67A59E28133AE16934AACE615E83FC5A96459753CD9115EF6659684572076C85CC629A39AAE2692D0BAC4836C7AEDFD98A817DC2E3A8F6F0A3C3405A1C95F71B4935189B89D2C30CC4CC7B451688F96C89455F244A60F4FB24ED487B3CD4C18E8ABB11FDEC4883A18F36DC1B3F3ED8343E4CD463720FF7B880DEF470518F6767AD9BB609FECC48B54466EE2534AE84997C662B5E720A26ED77286F1DC85A318A22158CFAE21C53BDBD64DAAB839DE39B5E20F164AF6B47D2DB15CDBD4833F5ED42EEFA44472D1518C3751E772D64223D271DCD8A59AA00509EC496BFABA3597A2CDA4E852F9D9316595CA78C64783EFD9A2118ED920CBB8BDFC2D3308064F65466B80471F0083354BC17770FF6F60F044EFDE9F0DBCFB2CCE70CB681E49EEFB411681F02A2D55662871E947CF13348BD2790CA645403F3C83F0468300E7914C4AFB966A46BC517B10F5F8EDD7FE70047CEC5BFEE458C1DE73AC5167AE4EC39BFF7E7A1277F238135B4073F44E333F711CCAD52EC0016F5A708BCFCB93F877A168130EC22938E46BD6B1B554CEA66589664EA6FBAD72DE3882585F98FF8AB051588C26D42242DDA2B324A1CE3AAC8D89563BC33969263BCB3B9AB69C6078E01AA09F49BB5749966BB7357AA68B6CD465F198B5BF031CD37F015A6682F7FA9D72C76F597E52C2AEF46A93DBA012A2361CE373448786DD32D6934F92BFFBCE35C645FE2E0B7354EB8C30645742CF2270EABF306CEE74AD0DFDF0499B2B9CAB13917457963EED9FD3CC5B2953445D11ED274265E7EBBDEA666381E6C5AC311182B510985711F7E628DA8EF6D0715351D719765AF8A8A58BBAAEA4C37DC0B5141293C14DE202AD4510677C1D2D205779D7EA8E983BB88A6A50EEE32BF158983CD436759728B63A7E220F1CDCE9AA7359E4AFCACBD1C5DE660B5801B9467B5DFB4EA8DF1970E36DCDFC8F4A483616FD3EE37C7492A3EE367691EC62309955FEC776443EDC6FBD8F660C8242E3B5DD845BF371E514A76C074DDE6A93E05A6832EC4A59DAC46F7AC677063D1BD5C912B7A1B9CA0562EBE215329296818094C09367B111A8F612FDA271D724D2D774BC6339A666E5443C7FE4E6CC5DCDFC73394A64B2C2358494782D8A970C2D6DBA70A7946A4821D93FDB5E1318BE9DEEE48C6D58FF4750234850A86308D9D8D48ED3AB6ADE9EE7B5B9C394C9FC07562C646372F34C636224DEBD8C6A6BB143E7163B322639D98AD6D6BFCDCB2A5190FA15BA75695F98BC46EA5D7B0C56BAB4D94A9C5DDDE63D77F4870E717FB631D09550DF85455B575E15CD553AEAA6AB06063D593B12A45B7E0696DA06955411B52B8F2736EA9063E59554FF1CF83A999C27495D501415B619D455FA99EA24CAC580A8E52BD528EE66AEDDA4A27758D8DA5799AABD510FB35D54DC7F8C6BA699EE6BA357479E373D0AA83868A174A0EB5AA3D2EA6BC36706D895B968B550CE55053C3B830C410E4F46FD2A0FCB156FA57EEF630E534C16E6BFCB0867D305AB3364C01AB249054F174B7CC1D15285AC6EF2953BE722D69A11C6FDB27D0E844CD333E6586D74194C28D669A57BCC32B655384AE83A86448D7B12070955F03E2F5CA3A26F7998A5F67300B9635C41C63C6D0E3562A559E8BF83129174C82446516E96917023E5EC69CA42878041EC2C9E42A53FEEF8DE6D743C885BA07E85FC4D76BB45A23DC643C3708B9AB1364E1D5547FCE52CBCB3CBF5E915FD9104DC06206E40AD875FC711D847E25F7B9E276810682ACE8E8C521D297885C205ABE56485712D98B0E88AAAF5A88DEC1681562B0EC3A5E8067D845366C7E9FE11278AFF55D121D487B47F06A9F9F0560998228A3187579FC13DBB01FBDFCFC7FDBE313B4459A0000 , N'6.4.4')
END

